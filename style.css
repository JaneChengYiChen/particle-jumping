:root {
  --bg: #0b1021;
  --panel: #131a33;
  --accent: #6ee7ff;
  --accent-2: #c084fc;
}
* { box-sizing: border-box; }
html { scroll-behavior: smooth; }
body, html { margin: 0; padding: 0; background: var(--bg); color: #e6edf7; }
body {
  min-height: 100vh;
  font-family: "Inter","SF Pro",-apple-system,sans-serif;
  display: block;
  padding: 16px;
  overflow-x: hidden;
  overflow-y: auto;
}
.page {
  width: min(1200px, 100%);
  margin: 0 auto;
  display: grid;
  gap: 18px;
  position: relative;
  z-index: 1;
  padding: 8px 6px 18px;
  align-items: start;
}
/* Canvas acts as animated particle background */
#bg-canvas {
  position: fixed;
  inset: 0;
  z-index: 0;
  display: block;
  pointer-events: none;
}
.snow-canvas {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
}
.tree-section {
  width: 100%;
  min-height: 60vh;
  max-height: 80vh;
  background: transparent;
  border: none;
  border-radius: 18px;
  padding: 16px;
  box-shadow: none;
  display: grid;
  place-items: center;
  position: relative;
}
.tree-wrap {
  position: relative;
  width: min(620px, 92vw);
  height: min(640px, 80vh);
  display: flex;
  align-items: flex-end;
  justify-content: flex-start;
  gap: 20px;
  padding-left: 10px;
}
@media (max-width: 720px) {
  .tree-wrap { width: 92vw; height: auto; min-height: 480px; flex-direction: column; gap: 16px; padding-left: 0; justify-content: center; }
  .mailbox { width: 70px; height: 250px; align-self: center; margin-left: 0; }
  .mailbox-body { width: 55px; height: 150px; }
  .mailbox-roof { width: 60px; height: 30px; }
  .mailbox-post { width: 18px; height: 70px; }
  .mailbox-post-text { font-size: 12px; }
  .tree { transform: scale(0.85); transform-origin: center bottom; }
  .tree .star { width: 60px; height: 60px; top: -20px; }
  .branch.layer1 { top: 54px; width: 255px; height: 102px; }
  .branch.layer2 { top: 128px; width: 289px; height: 111px; }
  .branch.layer3 { top: 213px; width: 323px; height: 119px; }
  .ornaments .orn { width: 14px; height: 14px; }
  .garlands .gar { height: 6px; }
  .gar.g1 { top: 81px; width: 85px; }
  .gar.g2 { top: 123px; width: 200px; }
  .gar.g3 { top: 166px; width: 119px; }
  .gar.g4 { top: 213px; width: 238px; }
  .gar.g5 { top: 272px; width: 196px; }
  .lights .light.large { width: 12px; height: 12px; }
  .lights .light.small { width: 7px; height: 10px; }
  .figure-img-wrap { width: 200px; height: 320px; }
}
@media (max-width: 640px) {
  .page { padding: 12px 8px 16px; }
  .tree-section { max-height: none; padding: 12px; }
  .tree-wrap { width: 94vw; min-height: 460px; }
  .mailbox { width: 60px; height: 220px; margin-left: 0; }
  .mailbox-body { width: 50px; height: 130px; }
  .mailbox-roof { width: 55px; height: 28px; }
  .mailbox-post { width: 16px; height: 60px; }
  .mailbox-post-text { font-size: 11px; }
  .tree { transform: scale(0.75); transform-origin: center bottom; }
  .tree .star { width: 54px; height: 54px; top: -18px; }
  .branch.layer1 { top: 48px; width: 225px; height: 90px; }
  .branch.layer2 { top: 113px; width: 255px; height: 98px; }
  .branch.layer3 { top: 188px; width: 285px; height: 105px; }
  .ornaments .orn { width: 12px; height: 12px; }
  /* Adjust ornament positions for smaller tree */
  .orn.o1 { top: 64px; left: 42%; }
  .orn.o2 { top: 74px; left: 58%; }
  .orn.o3 { top: 84px; left: 35%; }
  .orn.o4 { top: 94px; left: 52%; }
  .orn.o5 { top: 104px; left: 65%; }
  .orn.o6 { top: 114px; left: 36%; }
  .orn.o7 { top: 124px; left: 53%; }
  .orn.o8 { top: 134px; left: 61%; }
  .orn.o9 { top: 144px; left: 30%; }
  .orn.o10 { top: 154px; left: 46%; }
  .orn.o11 { top: 164px; left: 62%; }
  .orn.o12 { top: 174px; left: 34%; }
  .orn.o13 { top: 184px; left: 50%; }
  .orn.o14 { top: 194px; left: 40%; }
  .orn.o15 { top: 204px; left: 57%; }
  .orn.o16 { top: 214px; left: 28%; }
  .orn.o17 { top: 224px; left: 44%; }
  .orn.o18 { top: 234px; left: 60%; }
  .orn.o19 { top: 244px; left: 32%; }
  .orn.o20 { top: 254px; left: 48%; }
  .garlands .gar { height: 5px; }
  .gar.g1 { top: 71px; width: 75px; }
  .gar.g2 { top: 109px; width: 177px; }
  .gar.g3 { top: 146px; width: 105px; }
  .gar.g4 { top: 188px; width: 210px; }
  .gar.g5 { top: 240px; width: 173px; }
  /* Adjust light positions for smaller tree */
  .light.l1 { top: 64px; left: 42%; }
  .light.l2 { top: 71px; left: 58%; }
  .light.l3 { top: 83px; left: 35%; }
  .light.l4 { top: 90px; left: 52%; }
  .light.l5 { top: 102px; left: 45%; }
  .light.l6 { top: 113px; left: 62%; }
  .light.l7 { top: 131px; left: 30%; }
  .light.l8 { top: 143px; left: 48%; }
  .light.l9 { top: 154px; left: 64%; }
  .light.l10 { top: 169px; left: 36%; }
  .light.l11 { top: 180px; left: 54%; }
  .light.l12 { top: 195px; left: 40%; }
  .light.l13 { top: 214px; left: 58%; }
  .light.l14 { top: 233px; left: 32%; }
  .light.l15 { top: 248px; left: 50%; }
  .lights .light.large { width: 10px; height: 10px; }
  .lights .light.small { width: 6px; height: 8px; }
  .gift { width: 80px; height: 68px; }
  .gift .tag { font-size: 12px; }
  .snow-note { font-size: 12px; }
  .gifts { flex-direction: row; position: static; margin-left: 0; gap: 8px; }
  .figure-img-wrap { width: 180px; height: 290px; margin-bottom: 60px; }
  .people-panel { padding: 12px; }
  .people-list { grid-template-columns: repeat(auto-fit, minmax(70px, 1fr)); gap: 6px; }
}
.mailbox {
  position: relative;
  width: 90px;
  height: 280px;
  order: 0;
  align-self: flex-end;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-left: -20px;
}
/* Gabled roof with overhangs */
.mailbox-roof {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 75px;
  height: 35px;
  background: linear-gradient(135deg, #e74c3c 0%, #c0392b 50%, #a93226 100%);
  clip-path: polygon(10% 100%, 50% 0%, 90% 100%);
  box-shadow: 
    0 2px 8px rgba(0,0,0,0.3),
    inset 0 -2px 4px rgba(0,0,0,0.2);
  z-index: 5;
}
.mailbox-roof::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255,255,255,0.15), transparent);
  clip-path: polygon(10% 100%, 50% 0%, 90% 100%);
}
/* Main body */
.mailbox-body {
  position: absolute;
  top: 30px;
  left: 50%;
  transform: translateX(-50%);
  width: 65px;
  height: 150px;
  background: linear-gradient(135deg, #e74c3c 0%, #c0392b 30%, #a93226 100%);
  border-radius: 4px;
  box-shadow: 
    0 4px 12px rgba(0,0,0,0.4),
    inset 2px 0 4px rgba(255,255,255,0.1),
    inset -2px 0 4px rgba(0,0,0,0.2);
  z-index: 2;
}
/* Lower base section */
.mailbox-body::after {
  content: "";
  position: absolute;
  bottom: -25px;
  left: 50%;
  transform: translateX(-50%);
  width: 75px;
  height: 25px;
  background: linear-gradient(135deg, #e74c3c 0%, #c0392b 30%, #a93226 100%);
  border-radius: 0 0 4px 4px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}
/* Mail slot */
.mailbox-slot {
  position: absolute;
  top: 12px;
  left: 50%;
  transform: translateX(-50%);
  width: 45px;
  height: 5px;
  background: rgba(0,0,0,0.8);
  border-radius: 3px;
  border: 1px solid rgba(0,0,0,0.9);
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.6);
  z-index: 3;
}
/* POST text */
.mailbox-post-text {
  position: absolute;
  top: 32px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 14px;
  font-weight: 700;
  color: #ffffff;
  letter-spacing: 1.5px;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
  z-index: 3;
  font-family: "Inter","SF Pro",-apple-system,sans-serif;
}
/* Lock mechanism */
.mailbox-lock {
  position: absolute;
  top: 60px;
  left: 50%;
  transform: translateX(-50%);
  width: 16px;
  height: 16px;
  background: linear-gradient(135deg, #d1d5db 0%, #9ca3af 100%);
  border-radius: 50%;
  box-shadow: 
    0 2px 4px rgba(0,0,0,0.3),
    inset 0 1px 2px rgba(255,255,255,0.4);
  z-index: 3;
}
.mailbox-lock::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 8px;
  height: 10px;
  background: rgba(0,0,0,0.7);
  border-radius: 4px 4px 0 0;
  clip-path: polygon(50% 0%, 100% 100%, 0% 100%);
}
.mailbox-lock::after {
  content: "";
  position: absolute;
  top: -4px;
  left: 50%;
  transform: translateX(-50%);
  width: 6px;
  height: 6px;
  background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
  border-radius: 50%;
  box-shadow: 0 1px 2px rgba(0,0,0,0.3);
}
/* Front door panel */
.mailbox-door {
  position: absolute;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  width: 55px;
  height: 130px;
  background: linear-gradient(135deg, #e74c3c 0%, #c0392b 50%, #a93226 100%);
  border: 2px solid rgba(0,0,0,0.3);
  border-radius: 3px;
  box-shadow: 
    inset 0 0 10px rgba(0,0,0,0.2),
    inset 0 2px 4px rgba(255,255,255,0.1);
  z-index: 1;
}
/* Support post */
.mailbox-post {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 20px;
  height: 70px;
  background: linear-gradient(135deg, #7f1d1d 0%, #991b1b 30%, #7f1d1d 100%);
  border-radius: 2px;
  box-shadow: 
    0 4px 8px rgba(0,0,0,0.4),
    inset 2px 0 4px rgba(0,0,0,0.3);
  z-index: 1;
}
.tree {
  position: relative;
  width: 340px;
  height: 480px;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,0.35));
  isolation: isolate;
  animation: sway 10s ease-in-out infinite alternate;
  order: 1;
}
.tree::before {
  content: "";
  position: absolute;
  inset: -40px;
  background: radial-gradient(circle at 50% 35%, rgba(110,231,255,0.18), transparent 55%),
              radial-gradient(circle at 50% 70%, rgba(192,132,252,0.16), transparent 60%);
  filter: blur(18px);
  z-index: -1;
  opacity: 0.95;
}
.tree::after {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,0.6), transparent),
    radial-gradient(2px 2px at 70% 18%, rgba(255,255,255,0.55), transparent),
    radial-gradient(2px 2px at 40% 60%, rgba(255,255,255,0.5), transparent),
    radial-gradient(2px 2px at 80% 70%, rgba(255,255,255,0.45), transparent);
  opacity: 0.8;
  animation: twinkle 1.6s ease-in-out infinite alternate;
  pointer-events: none;
}
.tree .star {
  position: absolute;
  top: -24px; left: 50%;
  width: 72px; height: 72px;
  background: radial-gradient(circle, #ffeb3b 0%, #ffc107 40%, #ff9800 80%, #ff6f00 100%);
  clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
  transform: translateX(-50%) rotate(-4deg);
  box-shadow: 
    0 0 25px rgba(255,235,59,0.95),
    0 0 45px rgba(255,193,7,0.75),
    0 0 65px rgba(255,152,0,0.55),
    0 0 0 2px rgba(255,111,0,0.6);
  border: 2px solid rgba(255,111,0,0.8);
  cursor: pointer;
  padding: 0;
  animation: starPulse 2s ease-in-out infinite;
}
.tree .branch {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(180deg, 
    #1b5e20 0%,
    #2e7d32 20%,
    #1b5e20 40%,
    #0d4f1a 60%,
    #1b5e20 80%,
    #0d4f1a 100%
  );
  border-radius: 12px;
  filter: drop-shadow(0 4px 6px rgba(0,0,0,0.4));
  box-shadow: 
    inset 0 2px 8px rgba(76,175,80,0.3),
    inset 0 -2px 8px rgba(0,0,0,0.2);
}
.branch.layer1 { top: 64px; width: 300px; height: 120px; clip-path: polygon(50% 0, 100% 100%, 0 100%); }
.branch.layer2 { top: 150px; width: 340px; height: 130px; clip-path: polygon(50% 0, 100% 100%, 0 100%); }
.branch.layer3 { top: 250px; width: 380px; height: 140px; clip-path: polygon(50% 0, 100% 100%, 0 100%); }
.trunk {
  position: absolute;
  bottom: -2px; left: 50%;
  transform: translateX(-50%);
  width: 70px; height: 78px;
  background: linear-gradient(180deg, #5a3824 0%, #3f2415 100%);
  border-radius: 10px;
  box-shadow: inset 0 6px 10px rgba(0,0,0,0.25);
}
.ornaments .orn {
  position: absolute;
  width: 16px; height: 16px;
  border-radius: 50%;
  box-shadow: 
    0 0 12px rgba(0,0,0,0.5),
    0 0 10px rgba(255,255,255,0.5),
    0 2px 6px rgba(0,0,0,0.3),
    inset 0 2px 4px rgba(255,255,255,0.4),
    inset 0 -2px 4px rgba(0,0,0,0.2);
  animation: twinkle 2.2s ease-in-out infinite alternate;
  border: 1px solid rgba(255,255,255,0.3);
}
/* Layer 1 ornaments - beautifully scattered across the top branch (64px-184px, 300px wide) */
.orn.o1 { top: 75px; left: 38%; background: #d7263d; }
.orn.o2 { top: 88px; left: 58%; background: #e9b44c; }
.orn.o3 { top: 100px; left: 32%; background: #8ecae6; }
.orn.o4 { top: 112px; left: 48%; background: #d7263d; }
.orn.o5 { top: 125px; left: 65%; background: #e9b44c; }
.orn.o6 { top: 140px; left: 36%; background: #8ecae6; }
.orn.o7 { top: 152px; left: 52%; background: #d7263d; }
.orn.o8 { top: 165px; left: 61%; background: #e9b44c; }
/* Layer 2 ornaments - beautifully scattered across the middle branch (150px-280px, 340px wide) */
.orn.o9 { top: 172px; left: 28%; background: #8ecae6; }
.orn.o10 { top: 188px; left: 44%; background: #d7263d; }
.orn.o11 { top: 200px; left: 62%; background: #e9b44c; }
.orn.o12 { top: 218px; left: 34%; background: #8ecae6; }
.orn.o13 { top: 232px; left: 49%; background: #d7263d; }
.orn.o14 { top: 248px; left: 38%; background: #e9b44c; }
.orn.o15 { top: 260px; left: 57%; background: #8ecae6; }
/* Layer 3 ornaments - beautifully scattered across the bottom branch (250px-390px, 380px wide) */
.orn.o16 { top: 270px; left: 26%; background: #d7263d; }
.orn.o17 { top: 285px; left: 42%; background: #e9b44c; }
.orn.o18 { top: 300px; left: 60%; background: #8ecae6; }
.orn.o19 { top: 320px; left: 32%; background: #d7263d; }
.orn.o20 { top: 340px; left: 48%; background: #e9b44c; }
.garlands .gar {
  position: absolute;
  height: 8px;
  border-radius: 999px;
  background: linear-gradient(90deg, 
    rgba(255,215,0,0.95) 0%,
    rgba(255,223,0,0.9) 20%,
    rgba(255,193,7,0.85) 40%,
    rgba(255,223,0,0.9) 60%,
    rgba(255,215,0,0.95) 80%,
    rgba(255,193,7,0.85) 100%
  );
  box-shadow: 
    0 0 8px rgba(255,215,0,0.6),
    0 2px 4px rgba(0,0,0,0.2),
    inset 0 1px 2px rgba(255,255,255,0.4);
  opacity: 0.95;
  z-index: 2;
}
/* Garlands beautifully balanced across tree branches - positioned at optimal heights for visual balance */
.gar.g1 { 
  top: 95px; 
  left: 50%; 
  transform: translateX(-50%) rotate(-6deg); 
  width: 100px; 
}
.gar.g2 { 
  top: 145px; 
  left: 50%; 
  transform: translateX(-50%) rotate(5deg); 
  width: 235px; 
}
.gar.g3 { 
  top: 195px; 
  left: 50%; 
  transform: translateX(-50%) rotate(-4deg); 
  width: 140px; 
}
.gar.g4 { 
  top: 250px; 
  left: 50%; 
  transform: translateX(-50%) rotate(2deg); 
  width: 280px; 
}
.gar.g5 { 
  top: 320px; 
  left: 50%; 
  transform: translateX(-50%) rotate(-5deg); 
  width: 230px; 
}
.garlands .gar::before {
  content: "";
  position: absolute;
  inset: -2px;
  background: linear-gradient(90deg, 
    rgba(255,193,7,0.3) 0%,
    rgba(255,215,0,0.4) 50%,
    rgba(255,193,7,0.3) 100%
  );
  border-radius: 999px;
  filter: blur(3px);
  z-index: -1;
  animation: garlandGlow 3s ease-in-out infinite alternate;
}
.garlands .gar::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, 
    transparent 0%,
    rgba(255,255,255,0.5) 25%,
    rgba(255,255,255,0.6) 50%,
    rgba(255,255,255,0.5) 75%,
    transparent 100%
  );
  border-radius: 999px;
  filter: blur(1px);
  opacity: 0.8;
  animation: twinkle 2.5s ease-in-out infinite alternate;
}
@keyframes garlandGlow {
  from { opacity: 0.4; transform: scale(1); }
  to { opacity: 0.7; transform: scale(1.05); }
}
/* Christmas lights */
.lights {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 3;
}
.lights .light {
  position: absolute;
  border-radius: 50%;
  animation: lightTwinkle 2s ease-in-out infinite alternate;
}
/* Large frosted bulbs with internal glow */
.lights .light.large {
  width: 14px;
  height: 14px;
  background: radial-gradient(circle at 30% 30%, 
    rgba(255,255,255,0.9) 0%,
    currentColor 40%,
    currentColor 100%
  );
  box-shadow: 
    0 0 10px currentColor,
    0 0 15px currentColor,
    inset 0 0 8px rgba(255,255,255,0.7),
    inset 0 2px 6px rgba(255,255,255,0.9);
  border: 1px solid rgba(255,255,255,0.6);
  filter: blur(0.5px);
}
/* Small elongated opaque bulbs */
.lights .light.small {
  width: 8px;
  height: 12px;
  border-radius: 4px;
  background: currentColor;
  box-shadow: 
    0 0 8px currentColor,
    0 2px 4px rgba(0,0,0,0.4),
    inset 0 1px 2px rgba(255,255,255,0.3);
}
/* Light positions - scattered across tree layers */
.light.l1 { top: 85px; left: 42%; color: #87ceeb; }
.light.l2 { top: 95px; left: 58%; color: #ff6347; }
.light.l3 { top: 110px; left: 35%; color: #dda0dd; }
.light.l4 { top: 120px; left: 52%; color: #ff8c00; }
.light.l5 { top: 135px; left: 45%; color: #ffd700; }
.light.l6 { top: 150px; left: 62%; color: #4169e1; }
.light.l7 { top: 175px; left: 30%; color: #87ceeb; }
.light.l8 { top: 190px; left: 48%; color: #ff1493; }
.light.l9 { top: 205px; left: 64%; color: #ffd700; }
.light.l10 { top: 225px; left: 36%; color: #9370db; }
.light.l11 { top: 240px; left: 54%; color: #00ced1; }
.light.l12 { top: 260px; left: 40%; color: #ff6347; }
.light.l13 { top: 285px; left: 58%; color: #87ceeb; }
.light.l14 { top: 310px; left: 32%; color: #ff8c00; }
.light.l15 { top: 330px; left: 50%; color: #dda0dd; }
@keyframes lightTwinkle {
  from { 
    opacity: 0.7;
    transform: scale(1);
    filter: brightness(0.9);
  }
  to { 
    opacity: 1;
    transform: scale(1.1);
    filter: brightness(1.2);
  }
}
.gifts {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 12px;
  align-items: center;
  justify-content: flex-end;
  pointer-events: auto;
  margin-left: 32px;
  order: 2;
}
.gift {
  position: relative;
  width: 110px; height: 90px;
  border-radius: 10px;
  border: 2px solid rgba(255,255,255,0.08);
  cursor: pointer;
  transition: transform 0.12s ease, box-shadow 0.2s ease;
  box-shadow: 0 10px 18px rgba(0,0,0,0.35), 0 0 16px rgba(255, 216, 88, 0.55);
  overflow: hidden;
  pointer-events: auto;
  animation: giftGlow 2s ease-in-out infinite;
}
.gift:active { transform: translateY(2px) scale(0.99); }
.gift .ribbon.vertical {
  position: absolute;
  left: 45%;
  top: 0;
  width: 12px; height: 100%;
  background: rgba(255,255,255,0.28);
}
.gift .ribbon.horizontal {
  position: absolute;
  top: 38px; left: 0;
  height: 12px; width: 100%;
  background: rgba(255,255,255,0.26);
}
.gift .tag {
  position: absolute;
  bottom: 6px; right: 6px;
  background: rgba(0,0,0,0.35);
  border: 1px solid rgba(255,255,255,0.25);
  border-radius: 6px;
  padding: 2px 6px;
  font-weight: 700;
  color: #fefefe;
  font-size: 16px;
}
.gift .bow {
  position: absolute;
  top: 8px;
  width: 22px; height: 14px;
  background: radial-gradient(circle at 30% 40%, rgba(255,255,255,0.8), rgba(255,215,120,0.6));
  border-radius: 10px 10px 4px 4px;
  box-shadow: 0 0 6px rgba(255,255,255,0.6);
}
.gift .bow-left { left: 28%; transform: rotate(-12deg); }
.gift .bow-right { right: 28%; transform: rotate(12deg); }
.gift-main {
  background: linear-gradient(160deg, #ffd54f, #f7b500);
  color: #0b1021;
}
.gift:hover {
  transform: translateY(-4px);
  box-shadow: 0 16px 26px rgba(0,0,0,0.4), 0 0 22px rgba(255, 216, 88, 0.7);
}
.gift::after {
  content: "";
  position: absolute;
  inset: 6px;
  border-radius: 8px;
  background: linear-gradient(135deg, rgba(255,255,255,0.3), transparent);
  opacity: 0.45;
  pointer-events: none;
}
.snow-note {
  text-align: center;
  margin-top: 10px;
  color: #cdd7f5;
  font-size: 14px;
  letter-spacing: 0.2px;
}
.snow-ground {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 60px;
  background: radial-gradient(100% 130% at 50% 120%, 
    rgba(255,255,255,0.95) 0%,
    rgba(240,248,255,0.85) 30%,
    rgba(230,240,250,0.75) 50%,
    rgba(200,220,240,0.4) 70%,
    transparent 100%
  );
  filter: blur(1px);
  mask-image: radial-gradient(140% 200% at 50% 120%, #000 50%, transparent 100%);
  -webkit-mask-image: radial-gradient(140% 200% at 50% 120%, #000 50%, transparent 100%);
  box-shadow: 
    0 -2px 8px rgba(200,220,240,0.3),
    inset 0 2px 4px rgba(255,255,255,0.5);
  pointer-events: none;
}
.figure-img-wrap {
  display: flex;
  align-items: flex-end;
  justify-content: center;
  width: 160px;
  height: 260px;
  margin-left: -6px;
  margin-bottom: 50px;
  order: 3;
}
.jesus-img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  filter: drop-shadow(0 12px 20px rgba(0,0,0,0.25));
}
.people-panel {
  width: min(1100px, 100%);
  background: linear-gradient(135deg, rgba(12, 18, 36, 0.9), rgba(14, 26, 52, 0.8));
  border: 1px solid rgba(110, 231, 255, 0.25);
  border-radius: 14px;
  padding: 16px;
  box-shadow: 0 16px 36px rgba(0,0,0,0.35);
  backdrop-filter: blur(8px);
}
.people-header {
  display: flex;
  align-items: baseline;
  gap: 10px;
  margin-bottom: 10px;
}
.people-header h2 {
  margin: 0;
  font-size: 18px;
  letter-spacing: 0.3px;
}
.hint { color: #8ea8d8; font-size: 13px; }
.people-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
  gap: 8px;
  margin-bottom: 12px;
}
.people-list button {
  width: 100%;
  padding: 10px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.08);
  background: radial-gradient(circle at 30% 20%, rgba(110, 231, 255, 0.18), rgba(192, 132, 252, 0.06));
  color: #e6edf7;
  font-weight: 700;
  cursor: pointer;
  transition: transform 0.1s ease, box-shadow 0.2s ease, background 0.2s ease;
}
.people-list button:hover { transform: translateY(-2px); box-shadow: 0 8px 14px rgba(0,0,0,0.25); }
.people-list button.active { background: linear-gradient(120deg, #6ee7ff44, #c084fc33); border-color: rgba(110,231,255,0.3); }
.message-form {
  display: grid;
  gap: 10px;
  margin-top: 8px;
}
.form-row { display: grid; gap: 6px; }
.form-row label { font-size: 14px; color: #c9d4f1; }
.form-row select,
.form-row textarea {
  width: 100%;
  background: #0b1124;
  border: 1px solid rgba(110, 231, 255, 0.25);
  border-radius: 10px;
  padding: 10px 12px;
  color: #e6edf7;
  font-size: 15px;
}
.form-row textarea { min-height: 90px; resize: vertical; }
.form-actions { display: flex; gap: 10px; flex-wrap: wrap; }
.note { margin: 0; font-size: 12px; color: #8ea8d8; }
@media (max-width: 480px) {
  .tree { transform: scale(0.65); }
  .tree .star { width: 46px; height: 46px; top: -16px; }
  .branch.layer1 { top: 42px; width: 195px; height: 78px; }
  .branch.layer2 { top: 98px; width: 221px; height: 85px; }
  .branch.layer3 { top: 163px; width: 247px; height: 91px; }
  .ornaments .orn { width: 10px; height: 10px; }
  .garlands .gar { height: 4px; }
  .gar.g1 { top: 62px; width: 65px; }
  .gar.g2 { top: 95px; width: 153px; }
  .gar.g3 { top: 127px; width: 91px; }
  .gar.g4 { top: 163px; width: 182px; }
  .gar.g5 { top: 208px; width: 150px; }
  .lights .light.large { width: 8px; height: 8px; }
  .lights .light.small { width: 5px; height: 7px; }
  .figure-img-wrap { width: 150px; height: 240px; }
  .mailbox { width: 50px; height: 180px; }
  .mailbox-body { width: 42px; height: 110px; }
  .mailbox-roof { width: 46px; height: 24px; }
  .mailbox-post { width: 14px; height: 50px; }
  .mailbox-post-text { font-size: 10px; }
  .gift { width: 70px; height: 60px; }
  .gift .tag { font-size: 11px; }
}
@media (max-width: 640px) {
  .form-actions { flex-direction: column; }
  .people-header { flex-direction: column; align-items: flex-start; }
}
button {
  cursor: pointer;
  background: linear-gradient(120deg, var(--accent), var(--accent-2));
  border: none;
  border-radius: 10px;
  color: #0b1021;
  font-weight: 700;
  padding: 10px 14px;
  transition: transform 0.1s ease, box-shadow 0.2s ease;
}
button.secondary {
  background: transparent;
  color: #e6edf7;
  border: 1px solid rgba(110, 231, 255, 0.35);
}
button:active { transform: scale(0.98); }
.quote-modal {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  background: rgba(0,0,0,0.55);
  backdrop-filter: blur(4px);
  z-index: 20;
}
/* Ensure hidden state wins over base display */
.quote-modal[hidden] { display: none !important; }
.quote-box {
  background: #101831;
  border: 1px solid rgba(214, 176, 94, 0.35);
  border-radius: 14px;
  padding: 20px;
  width: min(440px, 90vw);
  box-shadow: 0 18px 38px rgba(0,0,0,0.35);
  animation: floatIn 180ms ease;
}
.quote-box p {
  margin: 0 0 16px;
  line-height: 1.6;
  font-size: 16px;
  color: #e9f1ff;
}
.quote-actions { display: flex; gap: 10px; justify-content: flex-end; }
.inbox-header { display: flex; gap: 10px; align-items: center; margin-bottom: 10px; }
.inbox-header select {
  flex: 1;
  background: #0b1124;
  border: 1px solid rgba(110, 231, 255, 0.25);
  border-radius: 10px;
  padding: 8px 10px;
  color: #e6edf7;
  font-size: 14px;
}
.inbox-list { max-height: 320px; overflow: auto; display: grid; gap: 10px; }
.inbox-item {
  padding: 10px;
  border-radius: 10px;
  border: 1px solid rgba(110, 231, 255, 0.15);
  background: rgba(11, 17, 36, 0.8);
}
.inbox-item .meta { font-size: 12px; color: #8ea8d8; margin-bottom: 4px; }
.inbox-item .text { color: #e6edf7; line-height: 1.4; }
.empty { color: #8ea8d8; font-size: 13px; }
/* Toast */
#toast-container {
  position: fixed;
  top: 16px; right: 16px;
  display: grid;
  gap: 8px;
  z-index: 50;
  pointer-events: none;
}
.toast {
  background: rgba(15, 23, 42, 0.9);
  color: #e6edf7;
  padding: 10px 14px;
  border-radius: 10px;
  border: 1px solid rgba(110, 231, 255, 0.25);
  box-shadow: 0 10px 20px rgba(0,0,0,0.25);
  animation: fadeSlide 280ms ease, fadeOut 400ms ease 2400ms forwards;
  pointer-events: auto;
}
@keyframes fadeSlide {
  from { opacity: 0; transform: translateY(-6px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeOut {
  to { opacity: 0; transform: translateY(-4px); }
}
@keyframes floatIn {
  from { opacity: 0; transform: translateY(8px) scale(0.98); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}
@keyframes giftGlow {
  0% { box-shadow: 0 10px 18px rgba(0,0,0,0.35), 0 0 12px rgba(255,216,88,0.4); }
  50% { box-shadow: 0 10px 18px rgba(0,0,0,0.35), 0 0 22px rgba(255,216,88,0.75); }
  100% { box-shadow: 0 10px 18px rgba(0,0,0,0.35), 0 0 14px rgba(255,216,88,0.5); }
}
@keyframes sway {
  0% { transform: rotate(0deg); }
  50% { transform: rotate(0.6deg); }
  100% { transform: rotate(-0.4deg); }
}
@keyframes starPulse {
  0% { 
    transform: translateX(-50%) rotate(-4deg) scale(1); 
    box-shadow: 
      0 0 25px rgba(255,235,59,0.95),
      0 0 45px rgba(255,193,7,0.75),
      0 0 65px rgba(255,152,0,0.55);
  }
  50% { 
    transform: translateX(-50%) rotate(-2deg) scale(1.08); 
    box-shadow: 
      0 0 30px rgba(255,235,59,1),
      0 0 50px rgba(255,193,7,0.85),
      0 0 70px rgba(255,152,0,0.65),
      0 0 90px rgba(255,111,0,0.4);
  }
  100% { 
    transform: translateX(-50%) rotate(-4deg) scale(1); 
    box-shadow: 
      0 0 25px rgba(255,235,59,0.95),
      0 0 45px rgba(255,193,7,0.75),
      0 0 65px rgba(255,152,0,0.55);
  }
}
@keyframes twinkle {
  from { opacity: 0.35; filter: drop-shadow(0 0 6px rgba(255,255,255,0.6)); }
  to { opacity: 1; filter: drop-shadow(0 0 10px rgba(255,255,255,0.9)); }
}

